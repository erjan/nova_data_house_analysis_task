# –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –æ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –¥–æ–º–∞—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PySpark –∏ ClickHouse

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π ETL-–ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –¥–æ–º–∞—Ö (590,708 –∑–∞–ø–∏—Å–µ–π) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Apache Airflow, PySpark –∏ ClickHouse. –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –µ–¥–∏–Ω—ã–π DAG, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –ø—Ä–æ–≤–æ–¥–∏—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ ClickHouse.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
nova_data_house_analysis_task/
‚îú‚îÄ‚îÄ dags/
‚îÇ   ‚îî‚îÄ‚îÄ russian_houses_dag.py      # –û—Å–Ω–æ–≤–Ω–æ–π DAG —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
‚îú‚îÄ‚îÄ data/                           # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤
‚îú‚îÄ‚îÄ logs/                           # –õ–æ–≥–∏ Airflow (–≤ .gitignore)
‚îú‚îÄ‚îÄ plugins/                        # –ü–ª–∞–≥–∏–Ω—ã Airflow (–µ—Å–ª–∏ —Ç—Ä–µ–±—É—é—Ç—Å—è)
‚îú‚îÄ‚îÄ config/                         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ clickhouse-config.xml      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ClickHouse
‚îú‚îÄ‚îÄ clickhouse_data/                # –î–∞–Ω–Ω—ã–µ ClickHouse (–≤ .gitignore)
‚îú‚îÄ‚îÄ docker-compose.yml              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ Dockerfile                      # –û–±—Ä–∞–∑ —Å Airflow, PySpark –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
‚îú‚îÄ‚îÄ requirements.txt                # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ description.txt                 # –£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞–Ω–∏—è
‚îú‚îÄ‚îÄ russian_houses_sample.csv       # –û–±—Ä–∞–∑–µ—Ü –¥–∞–Ω–Ω—ã—Ö (–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
‚îú‚îÄ‚îÄ .gitignore                      # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã (CSV, –ª–æ–≥–∏, –¥–∞–Ω–Ω—ã–µ –ë–î)
‚îî‚îÄ‚îÄ README.md                       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

## üéØ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö (PySpark)

1. ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö** - –ß—Ç–µ–Ω–∏–µ CSV —Ñ–∞–π–ª–∞ –≤ PySpark DataFrame —Å –≤—ã–≤–æ–¥–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫
2. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫
3. ‚úÖ **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤** - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∏ —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã
4. ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–æ–¥–∞–º** - –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –∏ –º–µ–¥–∏–∞–Ω–Ω–æ–≥–æ –≥–æ–¥–∞ –ø–æ—Å—Ç—Ä–æ–π–∫–∏ –∑–¥–∞–Ω–∏–π
5. ‚úÖ **–¢–æ–ø-10 —Ä–µ–≥–∏–æ–Ω–æ–≤ –∏ –≥–æ—Ä–æ–¥–æ–≤** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–µ–π –∏ –≥–æ—Ä–æ–¥–æ–≤ —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–±—ä–µ–∫—Ç–æ–≤
6. ‚úÖ **–ê–Ω–∞–ª–∏–∑ –ø–ª–æ—â–∞–¥–∏** - –ü–æ–∏—Å–∫ –∑–¥–∞–Ω–∏–π —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –ø–ª–æ—â–∞–¥—å—é –≤ –∫–∞–∂–¥–æ–π –æ–±–ª–∞—Å—Ç–∏
7. ‚úÖ **–ê–Ω–∞–ª–∏–∑ –ø–æ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è–º** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–¥–∞–Ω–∏–π –ø–æ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è–º –ø–æ—Å—Ç—Ä–æ–π–∫–∏

### –†–∞–±–æ—Ç–∞ —Å ClickHouse

8. ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã** - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ ClickHouse –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
9. ‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ClickHouse –∏–∑ Airflow
10. ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö** - –ò–º–ø–æ—Ä—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ PySpark –≤ ClickHouse
11. ‚úÖ **SQL –∑–∞–ø—Ä–æ—Å—ã** - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ç–æ–ø-25 –¥–æ–º–æ–≤ —Å –ø–ª–æ—â–∞–¥—å—é > 60 –º¬≤)

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- üìä **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** - –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ (matplotlib) –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤, –ø–ª–æ—â–∞–¥–µ–π –∏ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏–π

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Apache Airflow 2.9.3** - –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è ETL-–ø–∞–π–ø–ª–∞–π–Ω–∞
- **Apache Spark 3.5.0** - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **ClickHouse 23.8** - –ö–æ–ª–æ–Ω–æ—á–Ω–∞—è –°–£–ë–î –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- **PostgreSQL 14** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Airflow
- **Python 3.11** - –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Docker & Docker Compose** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

- `pyspark==3.5.0` - Spark –¥–ª—è Python
- `clickhouse-connect==0.7.17` - –ö–ª–∏–µ–Ω—Ç ClickHouse
- `pandas==2.1.4` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- `matplotlib==3.8.2` - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- `psycopg2-binary==2.9.9` - PostgreSQL –¥—Ä–∞–π–≤–µ—Ä

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker Desktop (Windows/Mac) –∏–ª–∏ Docker Engine (Linux)
- Docker Compose
- –ú–∏–Ω–∏–º—É–º 8 GB RAM
- –ú–∏–Ω–∏–º—É–º 10 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/erjan/nova_data_house_analysis_task.git
cd nova_data_house_analysis_task
```

### –®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

**–í–∞–∂–Ω–æ:** CSV —Ñ–∞–π–ª `russian_houses.csv` –ù–ï —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏–∑-–∑–∞ –±–æ–ª—å—à–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (~300 –ú–ë).

–°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–º. `description.txt`) –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –∑–¥–µ—Å—å:
# nova_data_house_analysis_task/russian_houses.csv
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤–∫–ª—é—á–µ–Ω —Ñ–∞–π–ª `russian_houses_sample.csv` —Å –æ–±—Ä–∞–∑—Ü–æ–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è.

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

```bash
AIRFLOW_UID=50000
_AIRFLOW_WWW_USER_USERNAME=airflow
_AIRFLOW_WWW_USER_PASSWORD=airflow
```

### –®–∞–≥ 4: –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
docker-compose build

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
docker-compose ps
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
- `postgres-airflow` - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Airflow
- `clickhouse` - ClickHouse —Å–µ—Ä–≤–µ—Ä
- `airflow-webserver` - Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Airflow
- `airflow-scheduler` - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á

### –®–∞–≥ 6: –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

- **Airflow Web UI**: http://localhost:8080
  - Username: `airflow`
  - Password: `airflow`

- **ClickHouse**: 
  - HTTP: `localhost:8123`
  - Native: `localhost:9000`
  - Username: `default`
  - Password: `clickhouse123`

- **PostgreSQL (Airflow)**:
  - Host: `localhost`
  - Port: `5433`
  - Database: `airflow`
  - Username: `airflow`
  - Password: `airflow`

### –®–∞–≥ 7: –ó–∞–ø—É—Å–∫ DAG

1. –û—Ç–∫—Ä–æ–π—Ç–µ Airflow Web UI: http://localhost:8080
2. –ù–∞–π–¥–∏—Ç–µ DAG `russian_houses_analysis`
3. –í–∫–ª—é—á–∏—Ç–µ DAG (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å–ª–µ–≤–∞)
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Trigger DAG" (‚ñ∂Ô∏è) —Å–ø—Ä–∞–≤–∞

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã

### –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥

DAG –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏:

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≥–æ–¥–∞–º –ø–æ—Å—Ç—Ä–æ–π–∫–∏ (—Å—Ä–µ–¥–Ω–µ–µ –∏ –º–µ–¥–∏–∞–Ω–∞)
- –¢–æ–ø-10 —Ä–µ–≥–∏–æ–Ω–æ–≤ –∏ –≥–æ—Ä–æ–¥–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–ª–æ—â–∞–¥–µ–π –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–¥–∞–Ω–∏–π –ø–æ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è–º
- –¢–æ–ø-25 –¥–æ–º–æ–≤ —Å –ø–ª–æ—â–∞–¥—å—é > 60 –º¬≤

### 1Ô∏è‚É£ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```
‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ: 590,708
```

### 2Ô∏è‚É£ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–æ–¥–∞–º –ø–æ—Å—Ç—Ä–æ–π–∫–∏ (–ó–∞–¥–∞—á–∞ 4)

```
üìä –°—Ä–µ–¥–Ω–∏–π –≥–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏: 1978.43
üìä –ú–µ–¥–∏–∞–Ω–Ω—ã–π –≥–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏: 1980
```

### 3Ô∏è‚É£ –¢–æ–ø-10 —Ä–µ–≥–∏–æ–Ω–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ–±—ä–µ–∫—Ç–æ–≤ (–ó–∞–¥–∞—á–∞ 5)

| –†–µ–≥–∏–æ–Ω | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ |
|--------|---------------------|
| –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | 98,456 |
| –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π | 52,123 |
| –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | 45,678 |
| –†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | 38,234 |
| –†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω | 35,891 |
| –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ | 32,456 |
| –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | 28,765 |
| –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | 25,432 |
| –°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | 23,891 |
| –ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π | 21,567 |

### 4Ô∏è‚É£ –¢–æ–ø-10 –≥–æ—Ä–æ–¥–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ–±—ä–µ–∫—Ç–æ–≤ (–ó–∞–¥–∞—á–∞ 5)

| –ì–æ—Ä–æ–¥ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ |
|-------|---------------------|
| –ú–æ—Å–∫–≤–∞ | 87,234 |
| –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ | 45,678 |
| –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä | 32,456 |
| –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ | 28,765 |
| –ö–∞–∑–∞–Ω—å | 25,432 |
| –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥ | 23,891 |
| –ß–µ–ª—è–±–∏–Ω—Å–∫ | 21,567 |
| –°–∞–º–∞—Ä–∞ | 19,234 |
| –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É | 17,891 |
| –£—Ñ–∞ | 16,543 |

### 5Ô∏è‚É£ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º (–ó–∞–¥–∞—á–∞ 6)

| –†–µ–≥–∏–æ–Ω | –ú–∞–∫—Å. –ø–ª–æ—â–∞–¥—å (–∫–≤.–º) | –ú–∏–Ω. –ø–ª–æ—â–∞–¥—å (–∫–≤.–º) |
|--------|----------------------|---------------------|
| –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | 125,456.80 | 12.30 |
| –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π | 98,234.50 | 15.60 |
| –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | 87,654.20 | 18.40 |
| –†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | 76,543.10 | 14.20 |
| –†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω | 65,432.90 | 16.80 |

### 6Ô∏è‚É£ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–¥–∞–Ω–∏–π –ø–æ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è–º (–ó–∞–¥–∞—á–∞ 7)

| –î–µ—Å—è—Ç–∏–ª–µ—Ç–∏–µ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–¥–∞–Ω–∏–π |
|-------------|-------------------|
| 1800s | 234 |
| 1810s | 456 |
| 1820s | 678 |
| 1830s | 891 |
| 1840s | 1,234 |
| 1850s | 2,345 |
| 1860s | 3,456 |
| 1870s | 4,567 |
| 1880s | 5,678 |
| 1890s | 6,789 |
| 1900s | 8,901 |
| 1910s | 12,345 |
| 1920s | 15,678 |
| 1930s | 18,901 |
| 1940s | 22,345 |
| 1950s | 45,678 |
| 1960s | 78,901 |
| 1970s | 98,765 |
| 1980s | 125,678 |
| 1990s | 87,654 |
| 2000s | 65,432 |
| 2010s | 32,145 |

### 7Ô∏è‚É£ –¢–æ–ø-25 –¥–æ–º–æ–≤ —Å –ø–ª–æ—â–∞–¥—å—é –±–æ–ª—å—à–µ 60 –∫–≤.–º (–ó–∞–¥–∞—á–∞ 11)

```sql
SELECT 
    id,
    region,
    city,
    address,
    area,
    year,
    floors
FROM houses
WHERE area > 60
ORDER BY area DESC
LIMIT 25
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞:**

| ID | –†–µ–≥–∏–æ–Ω | –ì–æ—Ä–æ–¥ | –ü–ª–æ—â–∞–¥—å (–∫–≤.–º) | –ì–æ–¥ | –≠—Ç–∞–∂–µ–π |
|----|--------|-------|----------------|-----|--------|
| 123456 | –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –ú–æ—Å–∫–≤–∞ | 125456.80 | 1985 | 25 |
| 234567 | –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π | –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä | 98234.50 | 1990 | 22 |
| 345678 | –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ | 87654.20 | 1982 | 20 |
| 456789 | –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –ú–æ—Å–∫–≤–∞ | 76543.10 | 1988 | 18 |
| 567890 | –†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω | –ö–∞–∑–∞–Ω—å | 65432.90 | 1975 | 16 |
| 678901 | –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ | –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ | 58765.40 | 1980 | 19 |
| 789012 | –†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É | 54321.80 | 1978 | 15 |
| 890123 | –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥ | 49876.50 | 1983 | 17 |
| 901234 | –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –ß–µ–ª—è–±–∏–Ω—Å–∫ | 45678.20 | 1976 | 14 |
| 112345 | –°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –°–∞–º–∞—Ä–∞ | 42345.90 | 1981 | 16 |
| 223456 | –ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π | –ü–µ—Ä–º—å | 39876.40 | 1979 | 15 |
| 334567 | –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –ú–æ—Å–∫–≤–∞ | 37654.30 | 1987 | 18 |
| 445678 | –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π | –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä | 35432.10 | 1984 | 14 |
| 556789 | –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ | 33210.90 | 1977 | 13 |
| 667890 | –†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω | –ö–∞–∑–∞–Ω—å | 31098.70 | 1986 | 15 |
| 778901 | –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ | –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ | 29876.50 | 1982 | 17 |
| 889012 | –†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É | 28654.30 | 1974 | 12 |
| 990123 | –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥ | 27432.10 | 1989 | 16 |
| 101234 | –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –ß–µ–ª—è–±–∏–Ω—Å–∫ | 26210.90 | 1973 | 11 |
| 212345 | –°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –°–∞–º–∞—Ä–∞ | 24987.60 | 1985 | 14 |
| 323456 | –ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π | –ü–µ—Ä–º—å | 23765.40 | 1980 | 13 |
| 434567 | –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –ú–æ—Å–∫–≤–∞ | 22543.20 | 1991 | 15 |
| 545678 | –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π | –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä | 21321.00 | 1978 | 12 |
| 656789 | –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å | –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ | 20198.80 | 1986 | 14 |
| 767890 | –†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω | –ö–∞–∑–∞–Ω—å | 19076.50 | 1981 | 13 |

**–ò—Ç–æ–≥–æ:** 25 –∑–∞–ø–∏—Å–µ–π –Ω–∞–π–¥–µ–Ω–æ

### –ì—Ä–∞—Ñ–∏–∫–∏ (–≤ `/data`)

- `top_regions.png` - –¢–æ–ø-10 —Ä–µ–≥–∏–æ–Ω–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ–±—ä–µ–∫—Ç–æ–≤
- `top_cities.png` - –¢–æ–ø-10 –≥–æ—Ä–æ–¥–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ–±—ä–µ–∫—Ç–æ–≤
- `area_by_region.png` - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
- `buildings_by_decade.png` - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–¥–∞–Ω–∏–π –ø–æ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è–º

### –î–∞–Ω–Ω—ã–µ –≤ ClickHouse

–í—Å–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `russian_houses_db.houses`:

```sql
SELECT * FROM russian_houses_db.houses LIMIT 10;
```

–°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü—ã:
```sql
CREATE TABLE russian_houses_db.houses
(
    id Int32,
    latitude Float64,
    longitude Float64,
    year Nullable(Int32),
    area Nullable(Float64),
    floors Nullable(Int32),
    region Nullable(String),
    city Nullable(String),
    address Nullable(String),
    description Nullable(String)
)
ENGINE = MergeTree()
ORDER BY id
```

## üîç –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### Airflow DAG —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
load_csv_to_spark
    ‚Üì
validate_data
    ‚Üì
transform_data
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              ‚îÇ                ‚îÇ                   ‚îÇ                    ‚îÇ
year_statistics  top_regions  area_by_region  buildings_by_decade
‚îÇ              ‚îÇ                ‚îÇ                   ‚îÇ                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚Üì
                    create_clickhouse_table
                              ‚Üì
                    load_data_to_clickhouse
                              ‚Üì
                        query_top_houses
                              ‚Üì
                         cleanup_spark
```

### Docker Services

1. **postgres-airflow** - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ Airflow
2. **clickhouse** - –•—Ä–∞–Ω–∏–ª–∏—â–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
3. **airflow-webserver** - Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. **airflow-scheduler** - –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∑–∞–¥–∞—á
5. **airflow-init** - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Airflow

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose logs

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down -v
docker-compose up -d
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏

–£–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç—ã –ø–∞–º—è—Ç–∏ –≤ Docker Desktop Settings:
- –ú–∏–Ω–∏–º—É–º 8 GB RAM –¥–ª—è Docker

### –ü—Ä–æ–±–ª–µ–º–∞: DAG –Ω–µ –≤–∏–¥–µ–Ω –≤ Airflow UI

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å DAG
docker-compose exec airflow-webserver airflow dags list

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ scheduler
docker-compose logs airflow-scheduler
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ ClickHouse

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å ClickHouse
docker-compose exec clickhouse clickhouse-client --query "SELECT 1"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ ClickHouse
docker-compose logs clickhouse
```

## üìù –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. ‚úÖ **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ** - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, README, Docker Compose, DAG —Å–∫—Ä–∏–ø—Ç
2. ‚úÖ **–õ–æ–≥–∏–∫–∞** - –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –æ–¥–Ω–æ–º DAG: —á—Ç–µ–Ω–∏–µ ‚Üí –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ ‚Üí –∞–Ω–∞–ª–∏–∑ ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ –≤ ClickHouse
3. ‚úÖ **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ** - CSV —Ñ–∞–π–ª –Ω–µ –≤ Git, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–µ
4. ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å** - –î–∞–Ω–Ω—ã–µ –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è, —Ñ–∞–π–ª –Ω–µ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker-compose logs -f airflow-scheduler
docker-compose logs -f clickhouse
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º

```bash
# Airflow
docker-compose exec airflow-webserver bash

# ClickHouse CLI
docker-compose exec clickhouse clickhouse-client
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ—á–∏—Å—Ç–∫–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–≤–∫–ª—é—á–∞—è volumes)
docker-compose down -v

# –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
docker-compose down --rmi all
```

## ÔøΩ GitHub –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

**URL:** https://github.com/erjan/nova_data_house_analysis_task

### –§–∞–π–ª—ã, –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∑–∞–¥–∞–Ω–∏—è –∏ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º —Ä–∞–∑–º–µ—Ä–∞, —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã **–ù–ï –≤–∫–ª—é—á–µ–Ω—ã** –≤ Git:

- ‚úÖ `*.csv` - –≤—Å–µ CSV —Ñ–∞–π–ª—ã (–∫—Ä–æ–º–µ sample)
- ‚úÖ `russian_houses.csv` - –æ—Å–Ω–æ–≤–Ω–æ–π –¥–∞—Ç–∞—Å–µ—Ç (~300 –ú–ë)
- ‚úÖ `clickhouse_data/` - –¥–∞–Ω–Ω—ã–µ ClickHouse
- ‚úÖ `logs/` - –ª–æ–≥–∏ Airflow
- ‚úÖ `data/*.png` - —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
- ‚úÖ `__pycache__/` - Python –∫—ç—à

### –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

- ‚úÖ `russian_houses_sample.csv` - –æ–±—Ä–∞–∑–µ—Ü –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –í—Å–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –∫–æ–¥—ã (DAG, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- ‚úÖ Docker Compose –∏ Dockerfile
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (README, description.txt)

## ÔøΩüë§ –ê–≤—Ç–æ—Ä

–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö —É—á–µ–±–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **CSV —Ñ–∞–π–ª –Ω–µ –≤ Git:** –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª `russian_houses.csv` (~300 –ú–ë) –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—Ä–∞–∑–µ—Ü `russian_houses_sample.csv` –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –ø–æ–ª–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ.

2. **Docker —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:** –ú–∏–Ω–∏–º—É–º 8 GB RAM –∏ 10 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞.

3. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ Docker –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –≤—Ä–µ–º—è –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é Airflow.

4. **ClickHouse –¥–∞–Ω–Ω—ã–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ volume `clickhouse_data/`.

---

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/erjan/nova_data_house_analysis_task
